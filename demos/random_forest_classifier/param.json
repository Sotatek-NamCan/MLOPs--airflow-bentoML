{
  "_note": "Use the object under each DAG id as the Airflow run config.",
  "ml_ingest_data_pipeline_1": {
    "data_source": "s3://cpnam-lab/datasets/titanic.csv",
    "data_format": "csv",
    "input_schema_version": "v1",
    "ingestion_config": {
      "file_extension": ".csv",
      "cache_dir": "data/cache/titanic"
    },
    "ingested_dataset_uri": "s3://cpnam-lab/artifacts/titanic/ingested/titanic.csv"
  },
  "ml_validate_transform_pipeline_2": {
    "data_format": "csv",
    "target_column": "Survived",
    "data_cleaning": {
      "drop_columns": [
        "PassengerId",
        "Name",
        "Ticket",
        "Cabin",
        "Sex",
        "Embarked"
      ],
      "deduplicate": true,
      "column_order": [
        "Pclass",
        "Age",
        "SibSp",
        "Parch",
        "Fare",
        "Survived"
      ],
      "missing_values": {
        "numeric_strategy": "median",
        "categorical_strategy": "mode",
        "categorical_fill_value": "missing"
      },
      "outliers": {
        "method": "iqr",
        "iqr_factor": 1.5,
        "columns": [
          "Age",
          "Fare"
        ]
      },
      "transformations": []
    },
    "data_validation": {
      "min_row_count": 500,
      "required_columns": [
        "Pclass",
        "Age",
        "SibSp",
        "Parch",
        "Fare",
        "Survived"
      ],
      "non_null_columns": [
        "Pclass",
        "Age",
        "SibSp",
        "Parch",
        "Fare",
        "Survived"
      ],
      "value_ranges": {
        "Pclass": {
          "min": 1,
          "max": 3
        },
        "Age": {
          "min": 0
        },
        "Fare": {
          "min": 0
        },
        "SibSp": {
          "min": 0
        },
        "Parch": {
          "min": 0
        },
        "Survived": {
          "min": 0,
          "max": 1
        }
      },
      "allowed_values": {
        "Survived": [
          0,
          1
        ]
      }
    },
    "data_profiling": {
      "top_value_count": 5,
      "include_percentiles": [
        0.25,
        0.5,
        0.75
      ]
    },
    "data_visualization": {
      "max_numeric_charts": 10,
      "max_categorical_charts": 6,
      "plot_format": "png"
    },
    "ingested_dataset_uri": "s3://cpnam-lab/artifacts/titanic/ingested/titanic.csv",
    "cleaned_dataset_uri": "s3://cpnam-lab/artifacts/titanic/cleaned/titanic.csv",
    "cleaning_summary_uri": "s3://cpnam-lab/artifacts/titanic/reports/cleaning_summary.json",
    "data_profile_uri": "s3://cpnam-lab/artifacts/titanic/reports/profile_summary.json",
    "data_visualization_uri": "s3://cpnam-lab/artifacts/titanic/reports/visualizations.zip",
    "validation_report_uri": "s3://cpnam-lab/artifacts/titanic/reports/validation_summary.json"
  },
  "ml_best_params_pipeline_3": {
    "target_column": "Survived",
    "model_name": "random_forest_classifier",
    "hyperparameters": {
      "n_estimators": 200,
      "max_depth": 8,
      "min_samples_split": 2,
      "min_samples_leaf": 1
    },
    "hyperparameter_tuning": {
      "enabled": true,
      "n_trials": 20,
      "timeout": 600,
      "search_space": {
        "n_estimators": {
          "type": "int",
          "low": 100,
          "high": 300,
          "step": 50
        },
        "max_depth": {
          "type": "int",
          "low": 4,
          "high": 12
        },
        "min_samples_split": {
          "type": "int",
          "low": 2,
          "high": 6
        },
        "min_samples_leaf": {
          "type": "int",
          "low": 1,
          "high": 3
        }
      }
    },
    "test_size": 0.2,
    "random_state": 42,
    "ingested_dataset_uri": "s3://cpnam-lab/artifacts/titanic/ingested/titanic.csv",
    "tuning_results_uri": "s3://cpnam-lab/artifacts/titanic/hpo/best_params.json"
  },
  "ml_train_and_save_pipeline_4": {
    "target_column": "Survived",
    "model_name": "random_forest_classifier",
    "model_version": "1",
    "hyperparameters": {
      "n_estimators": 200,
      "max_depth": 8,
      "min_samples_split": 2,
      "min_samples_leaf": 1
    },
    "training_scenario": "baseline",
    "target_output_path": "s3://cpnam-lab/models/titanic/",
    "test_size": 0.2,
    "random_state": 42,
    "ingested_dataset_uri": "s3://cpnam-lab/artifacts/titanic/ingested/titanic.csv",
    "training_base_uri": "s3://cpnam-lab/artifacts/titanic",
    "trained_model_uri": "s3://cpnam-lab/artifacts/titanic/models/random_forest_classifier_v1/random_forest_classifier_v1.pkl",
    "tuning_results_uri": "s3://cpnam-lab/artifacts/titanic/hpo/best_params.json"
  }
}